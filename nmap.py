import nmap3
nmap = nmap3.Nmap()
import json

def soft_nmap(url):
    nmap.nmap_dns_brute_script(url)
    return nmap.nmap_dns_brute_script(url)

def parse_json(json_file):
    with open(json_file) as file:
        data = json.load(file)

        for key, value in data.items():
            print(key, value)

        return data

def main(url):
    soft_test = soft_nmap(url)
    if soft_test == None:
        print('Unsuccessful scan')
    else:
        print('Successful scan')
		# create a json file with the results
        with open(json_file, 'w') as json_file:
            json.dump(soft_test, json_file)

url = 'thecoder97.com'
json_file = 'nmap_dns_brute.json'
if __name__ == '__main__':
    # url = input('Enter a URL: ')
    main(url)
    parse_json(json_file)
